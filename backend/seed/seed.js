import mongoose from "mongoose";
import dotenv from "dotenv";
import bcrypt from "bcryptjs";
import User from "../models/Users.js";
import Publicite from "../models/Publicite.js";
import Thematique from "../models/Thematique.js";
import Categorie from "../models/Categorie.js";
import Produit from "../models/Produits.js";

dotenv.config();

const hashPassword = async (plainPassword) => {
  const salt = await bcrypt.genSalt(10);
  return bcrypt.hash(plainPassword, salt);
};

const seedDatabase = async () => {
  try {
    await mongoose.connect(process.env.MONGODB_URI);
    console.log("‚úÖ Connect√© √† MongoDB Atlas");

    // Vider les collections
    await Publicite.deleteMany();
    await Thematique.deleteMany();
    await Categorie.deleteMany();
    await Produit.deleteMany();
    //await User.deleteMany();

    console.log(" Collections vid√©es");

    // Ins√©rer th√©matiques
const thematiques = await Thematique.insertMany([
  { nom: "Immobilier", image: "/images/thematique/immobilier.jpg", nbrFoisRecherch√©: 120 },
  { nom: "V√©hicules", image: "/images/thematique/vehicules.jpg", nbrFoisRecherch√©: 95 },
  { nom: "Multim√©dia", image:"/images/thematique/multim√©dia.jpg" , nbrFoisRecherch√©: 80 },
  { nom: "Maison", image:"/images/thematique/maison.jpg", nbrFoisRecherch√©: 60 },
  { nom: "Loisirs", image:"/images/thematique/loisirs.jpg", nbrFoisRecherch√©: 45 },
  { nom: "Mode", image:"/images/thematique/mode.jpg", nbrFoisRecherch√©: 70 },
  { nom: "√âlectrom√©nager", image:"/images/thematique/electromenager.jpg", nbrFoisRecherch√©: 55 },
  { nom: "Services", image:"/images/thematique/services.jpg", nbrFoisRecherch√©: 30 },
  { nom: "Animaux", image:"/images/thematique/animaux.jpg", nbrFoisRecherch√©: 20 },
  { nom: "Agriculture", image:"/images/thematique/agriculture.jpg", nbrFoisRecherch√©: 15 },
  { nom: "Industrie", image:"/images/thematique/industrie.jpg", nbrFoisRecherch√©: 10 },
  { nom: "Musique", image:"/images/thematique/musique.jpg", nbrFoisRecherch√©: 50 },
  { nom: "Sport", image:"/images/thematique/sport.jpg", nbrFoisRecherch√©: 40 },
  { nom: "Outillage", image:"/images/thematique/outillage.jpg", nbrFoisRecherch√©: 28 },
  { nom: "S√©curit√©", image:"/images/thematique/securite.jpg", nbrFoisRecherch√©: 5 },
]);

console.log("‚úÖ Th√©matiques ins√©r√©es");

// Ins√©rer cat√©gories
const categories = await Categorie.insertMany([
  // Immobilier
  { nom: "Appartements", image: "/images/categories/appartements.jpg", id_thematique: thematiques[0]._id },
  { nom: "Maisons", image: "/images/categories/maisons.jpg", id_thematique: thematiques[0]._id },
  { nom: "Terrains", image: "/images/categories/terrains.jpg", id_thematique: thematiques[0]._id },

  // V√©hicules
  { nom: "Voitures", image: "/images/categories/voitures.jpg", id_thematique: thematiques[1]._id },
  { nom: "Motos", image: "/images/categories/motos.jpg", id_thematique: thematiques[1]._id },
  { nom: "V√©los", image: "/images/categories/velos.jpg", id_thematique: thematiques[1]._id },

  // Multim√©dia
  { nom: "Informatique", image: "/images/categories/informatique.jpg", id_thematique: thematiques[2]._id },
  { nom: "T√©l√©phonie", image: "/images/categories/telephonie.jpg", id_thematique: thematiques[2]._id },
  { nom: "Gaming", image: "/images/categories/gaming.jpg", id_thematique: thematiques[2]._id },
  { nom: "Photo & Vid√©o", image: "/images/categories/photo-video.jpg", id_thematique: thematiques[2]._id },

  // Maison
  { nom: "Meubles", image: "/images/categories/meubles.jpg", id_thematique: thematiques[3]._id },
  { nom: "D√©coration", image: "/images/categories/decoration.jpg", id_thematique: thematiques[3]._id },
  { nom: "Jardinage", image: "/images/categories/jardinage.jpg", id_thematique: thematiques[3]._id },

  // Loisirs
  { nom: "Sport", image: "/images/categories/sport.jpg", id_thematique: thematiques[4]._id },
  { nom: "Musique", image: "/images/categories/musique.jpg", id_thematique: thematiques[4]._id },
  { nom: "Livres", image: "/images/categories/livres.jpg", id_thematique: thematiques[4]._id },

  // Mode
  { nom: "V√™tements", image: "/images/categories/vetements.jpg", id_thematique: thematiques[5]._id },
  { nom: "Chaussures", image: "/images/categories/chaussures.jpg", id_thematique: thematiques[5]._id },
  { nom: "Accessoires", image: "/images/categories/accessoires.jpg", id_thematique: thematiques[5]._id },

  // √âlectrom√©nager
  { nom: "Cuisine", image: "/images/categories/cuisine.jpg", id_thematique: thematiques[6]._id },
  { nom: "Lavage", image: "/images/categories/lavage.jpg", id_thematique: thematiques[6]._id },
  { nom: "Climatisation", image: "/images/categories/climatisation.jpg", id_thematique: thematiques[6]._id },

  // Services
  { nom: "Cours particuliers", image: "/images/categories/cours-particuliers.jpg", id_thematique: thematiques[7]._id },
  { nom: "D√©pannage", image: "/images/categories/depannage.jpg", id_thematique: thematiques[7]._id },
  { nom: "√âv√©nementiel", image: "/images/categories/evenementiel.jpg", id_thematique: thematiques[7]._id },

  // Animaux
  { nom: "Chiens", image: "/images/categories/chiens.jpg", id_thematique: thematiques[8]._id },
  { nom: "Chats", image: "/images/categories/chats.jpg", id_thematique: thematiques[8]._id },
  { nom: "Accessoires animaux", image: "/images/categories/accessoires-animaux.jpg", id_thematique: thematiques[8]._id },

  // Agriculture
  { nom: "Mat√©riel agricole", image: "/images/categories/materiel-agricole.jpg", id_thematique: thematiques[9]._id },
  { nom: "Animaux de ferme", image: "/images/categories/animaux-ferme.jpg", id_thematique: thematiques[9]._id },
  { nom: "Produits agricoles", image: "/images/categories/produits-agricoles.jpg", id_thematique: thematiques[9]._id },
  { nom: "V√™tements agricoles", image: "/images/categories/vetements-agricoles.jpg", id_thematique: thematiques[9]._id },
  { nom: "Jardinage", image: "/images/categories/jardinage-agricole.jpg", id_thematique: thematiques[9]._id },
  
  // Industrie
  { nom: "Mat√©riel industriel", image: "/images/categories/materiel-industriel.jpg", id_thematique: thematiques[10]._id },
  { nom: "Fournitures industrielles", image: "/images/categories/fournitures-industrielles.jpg", id_thematique: thematiques[10]._id },
  { nom: "V√™tements de travail", image: "/images/categories/vetements-travail.jpg", id_thematique: thematiques[10]._id },
  { nom: "S√©curit√©", image: "/images/categories/securite.jpg", id_thematique: thematiques[10]._id },

  // Musique
  { nom: "Instruments de musique", image: "/images/categories/instruments-musique.jpg", id_thematique: thematiques[11]._id },
  { nom: "√âquipement audio", image: "/images/categories/equipement-audio.jpg", id_thematique: thematiques[11]._id },
  { nom: "Partitions", image: "/images/categories/partitions.jpg", id_thematique: thematiques[11]._id },
  { nom: "Accessoires musique", image: "/images/categories/accessoires-musique.jpg", id_thematique: thematiques[11]._id },
  { nom: "appareils DJ", image: "/images/categories/appareils-dj.jpg", id_thematique: thematiques[11]._id },

  // Sport
  { nom: "√âquipement sportif", image: "/images/categories/equipement-sportif.jpg", id_thematique: thematiques[12]._id },
  { nom: "V√™tements de sport", image: "/images/categories/vetements-sport.jpg", id_thematique: thematiques[12]._id },
  { nom: "Chaussures de sport", image: "/images/categories/chaussures-sport.jpg", id_thematique: thematiques[12]._id },
  { nom: "Accessoires sport", image: "/images/categories/accessoires-sport.jpg", id_thematique: thematiques[12]._id },

  // Outillage
  { nom: "Outils manuels", image: "/images/categories/outils-manuels.jpg", id_thematique: thematiques[13]._id },
  { nom: "Outils √©lectriques", image: "/images/categories/outils-electriques.jpg", id_thematique: thematiques[13]._id },
  { nom: "√âquipement de s√©curit√©", image: "/images/categories/equipement-securite-outillage.jpg", id_thematique: thematiques[13]._id },
  { nom: "Accessoires outillage", image: "/images/categories/accessoires-outillage.jpg", id_thematique: thematiques[13]._id },
]);

console.log("‚úÖ Cat√©gories ins√©r√©es");


    // Ins√©rer produits
const produits = await Produit.insertMany([
  {
    titre: "MacBook Pro 2022",
    description: "Ordinateur portable puissant pour d√©veloppeurs",
    prix: 1800,
    location: "Paris",
    state: "occasion",
    sellerType: "professionnel",
    images: ["/images/produits/macbook.jpg"], // tableau d'images
    id_categorie: categories.find(cat => cat.nom === "Informatique")._id,
    theme: thematiques.find(t => t.nom === "Multim√©dia").nom,
    vues: 120,
    date: new Date("2023-11-01"),
  },
  {
    titre: "Voiture Peugeot 208",
    description: "Bonne occasion, faible kilom√©trage",
    prix: 9500,
    location: "Lyon",
    state: "occasion",
    sellerType: "particulier",
    images: ["/images/produits/peugeot208.jpg"], // tableau d'images
    id_categorie: categories.find(cat => cat.nom === "Voitures")._id,
    theme: thematiques.find(t => t.nom === "V√©hicules").nom,
    vues: 300,
    date: new Date("2023-10-25"),
  },
  {
    titre: "Canap√© 3 places",
    description: "Confortable et moderne, parfait pour salon",
    prix: 300,
    location: "Marseille",
    state: "occasion",
    sellerType: "particulier",
    images: ["/images/produits/canape.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Meubles")._id,
    theme: thematiques.find(t => t.nom === "Immobilier").nom,
    vues: 85,
    date: new Date("2023-10-20"),
  },
  {
    titre: "iPhone 14 Pro Max",
    description: "Smartphone Apple derni√®re g√©n√©ration, √©tat impeccable",
    prix: 1200,
    location: "Bordeaux",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/iphone14.jpg"],
    id_categorie: categories.find(cat => cat.nom === "T√©l√©phonie")._id,
    theme: thematiques.find(t => t.nom === "Multim√©dia").nom,
    vues: 450,
    date: new Date("2023-11-05"),
  },
  {
    titre: "V√©lo √©lectrique Decathlon",
    description: "Id√©al pour trajets urbains, autonomie 80km",
    prix: 800,
    location: "Toulouse",
    state: "occasion",
    sellerType: "particulier",
    images: ["/images/produits/velo.jpg"],
    id_categorie: categories.find(cat => cat.nom === "V√©los")._id,
    theme: thematiques.find(t => t.nom === "V√©hicules").nom,
    vues: 210,
    date: new Date("2023-09-18"),
  },
  {
    titre: "Table en bois massif",
    description: "Table √† manger 6 personnes, style moderne",
    prix: 450,
    location: "Nice",
    state: "occasion",
    sellerType: "particulier",
    images: ["/images/produits/table.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Meubles")._id,
    theme: thematiques.find(t => t.nom === "Maison").nom,
    vues: 60,
    date: new Date("2023-09-10"),
  },
  {
    titre: "PS5 + 2 manettes",
    description: "Console Sony PlayStation 5 avec 2 manettes et 3 jeux",
    prix: 650,
    location: "Paris",
    state: "occasion",
    sellerType: "particulier",
    images: ["/images/produits/ps5.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Gaming")._id,
    theme: thematiques.find(t => t.nom === "Multim√©dia").nom,
    vues: 780,
    date: new Date("2023-11-08"),
  },
  {
    titre: "Appareil photo Canon EOS R",
    description: "Appareil photo hybride professionnel avec objectif 24-105mm",
    prix: 2100,
    location: "Lille",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/canon.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Photo & Vid√©o")._id,
    theme: thematiques.find(t => t.nom === "Multim√©dia").nom,
    vues: 150,
    date: new Date("2023-08-22"),
  },
  {
    titre: "Chaussures Nike Air Max",
    description: "Sneakers tendance, taille 42, √©tat neuf",
    prix: 120,
    location: "Strasbourg",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/nike.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Chaussures")._id,
    theme: thematiques.find(t => t.nom === "Mode").nom,
    vues: 95,
    date: new Date("2023-11-03"),
  },
  {
    titre: "Livre : L‚Äôart de la guerre",
    description: "√âdition reli√©e, excellent √©tat",
    prix: 15,
    location: "Rennes",
    state: "occasion",
    sellerType: "particulier",
    images: ["/images/produits/livre.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Livres")._id,
    theme: thematiques.find(t => t.nom === "Loisirs").nom,
    vues: 40,
    date: new Date("2023-07-30"),
  },
  {   titre: "Machine √† laver Samsung",
    description: "Machine √† laver 8kg, tr√®s bon √©tat",
    prix: 300,
    location: "Nantes",
    state: "occasion",
    sellerType: "particulier",
    images: ["/images/produits/lave-linge.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Lavage")._id,
    theme: thematiques.find(t => t.nom === "√âlectrom√©nager").nom,
    vues: 75,
    date: new Date("2023-10-15"),
  },
  {
    titre: "Guitare acoustique Yamaha",
    description: "Guitare pour d√©butants, son clair et agr√©able",
    prix: 150,
    location: "Montpellier",
    state: "occasion",
    sellerType: "particulier",
    images: ["/images/produits/guitare.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Instruments de musique")._id,
    theme: thematiques.find(t => t.nom === "Musique").nom,
    vues: 110,
    date: new Date("2023-09-05"),
  },
  {    titre: "Tondeuse √† gazon √©lectrique",
    description: "Tondeuse l√©g√®re, id√©ale pour petits jardins",
    prix: 200,
    location: "Dijon",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/tondeuse.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Jardinage")._id,
    theme: thematiques.find(t => t.nom === "Maison").nom,
    vues: 55,
    date: new Date("2023-08-12"),
  },
  {    titre: "Montre connect√©e Fitbit",
    description: "Suivi d‚Äôactivit√©, fr√©quence cardiaque, GPS int√©gr√©",
    prix: 130,
    location: "Angers",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/fitbit.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Accessoires")._id,
    theme: thematiques.find(t => t.nom === "Mode").nom,
    vues: 200,
    date: new Date("2023-11-06"),
  },
  {    titre: "Casque audio Bose",
    description: "Casque √† r√©duction de bruit, son immersif",
    prix: 250,
    location: "Grenoble",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/bose.jpg"],
    id_categorie: categories.find(cat => cat.nom === "√âquipement audio")._id,
    theme: thematiques.find(t => t.nom === "Musique").nom,
    vues: 180,
    date: new Date("2023-10-28"),
  },
  {    titre: "Tapis de yoga antid√©rapant",
    description: "Tapis √©pais et confortable, id√©al pour le yoga et le pilates",
    prix: 40,
    location: "Tours",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/tapis-yoga.jpg"],
    id_categorie: categories.find(cat => cat.nom === "√âquipement sportif")._id,
    theme: thematiques.find(t => t.nom === "Sport").nom,
    vues: 90,
    date: new Date("2023-09-22"),
  },
  {    titre: "Perceuse sans fil Bosch",
    description: "Perceuse 18V avec batterie et chargeur, id√©ale pour bricolage",
    prix: 120,
    location: "Le Havre",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/perceuse.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Outils √©lectriques")._id,
    theme: thematiques.find(t => t.nom === "Outillage").nom,
    vues: 65,
    date: new Date("2023-10-10"),
  },
  {    titre: "Accessoires pour animaux",
    description: "Lot de jouets et accessoires pour chiens et chats",
    prix: 35,
    location: "N√Æmes",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/accessoires-animaux.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Accessoires animaux")._id,
    theme: thematiques.find(t => t.nom === "Animaux").nom,
    vues: 40,
    date: new Date("2023-08-30"),
  },
  {    titre: "Tracteur agricole John Deere",
    description: "Tracteur 4 roues motrices, parfait pour travaux agricoles",
    prix: 15000,
    location: "Clermont-Ferrand",
    state: "occasion",
    sellerType: "professionnel",
    images: ["/images/produits/tracteur.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Mat√©riel agricole")._id,
    theme: thematiques.find(t => t.nom === "Agriculture").nom,
    vues: 25,
    date: new Date("2023-07-15"),
  },
  {    titre: "√âquipement de s√©curit√© industriel",
    description: "Casques, gants et lunettes de protection pour chantier",
    prix: 300,
    location: "Le Mans",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/equipement-securite.jpg"],
    id_categorie: categories.find(cat => cat.nom === "√âquipement de s√©curit√©")._id,
    theme: thematiques.find(t => t.nom === "Industrie").nom,
    vues: 15,
    date: new Date("2023-09-12"),
  },
  {   titre: "peugeot 3008",
    description: "SUV familial, faible kilom√©trage, tr√®s bon √©tat",
    prix: 22000,
    location: "Paris",
    state: "occasion",
    sellerType: "particulier",
    images: ["/images/produits/peugeot3008.jpg"], // tableau d'images
    id_categorie: categories.find(cat => cat.nom === "Voitures")._id,
    theme: thematiques.find(t => t.nom === "V√©hicules").nom,
    vues: 180,
    date: new Date("2023-10-30"),
  },
  {    titre: "Appartement T2 √† Lyon",
    description: "Appartement 2 pi√®ces, 45m¬≤, proche transports et commerces",
    prix: 850,
    location: "Lyon",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/appartement.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Appartements")._id,
    theme: thematiques.find(t => t.nom === "Immobilier").nom,
    vues: 95,
    date: new Date("2023-11-02"),
  }, 
  {    titre: "Samsung Galaxy S23 Ultra",
    description: "Smartphone Android haut de gamme, √©cran 6.8\", 256GB",
    prix: 1150,
    location: "Bordeaux",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/galaxy-s23.jpg"],
    id_categorie: categories.find(cat => cat.nom === "T√©l√©phonie")._id,
    theme: thematiques.find(t => t.nom === "Multim√©dia").nom,
    vues: 320,
    date: new Date("2023-11-07"),
  },
  {    titre: "V√©lo de route Cannondale",
    description: "V√©lo l√©ger en carbone, parfait pour la comp√©tition",
    prix: 900,
    location: "Toulouse",
    state: "occasion",
    sellerType: "particulier",
    images: ["/images/produits/cannondale.jpg"],
    id_categorie: categories.find(cat => cat.nom === "V√©los")._id,
    theme: thematiques.find(t => t.nom === "V√©hicules").nom,
    vues: 140,
    date: new Date("2023-10-18"),
  },
  {    titre: "Enceinte Bluetooth JBL",
    description: "Enceinte portable avec son puissant et √©tanche",
    prix: 80,
    location: "Lille",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/jbl.jpg"],
    id_categorie: categories.find(cat => cat.nom === "√âquipement audio")._id,
    theme: thematiques.find(t => t.nom === "Musique").nom,
    vues: 220,
    date: new Date("2023-10-29"),
  },
  {    titre: "Veste en cuir homme",
    description: "Veste en cuir v√©ritable, taille M, style biker",
    prix: 200,
    location: "Strasbourg",
    state: "occasion",
    sellerType: "particulier",
    images: ["/images/produits/veste-cuir.jpg"],
    id_categorie: categories.find(cat => cat.nom === "V√™tements")._id,
    theme: thematiques.find(t => t.nom === "Mode").nom,
    vues: 75,
    date: new Date("2023-09-25"),
  },
  {    titre: "Montre Seiko automatique",
    description: "Montre de luxe avec mouvement automatique, √©tat neuf",
    prix: 350,
    location: "Rennes",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/montre-seiko.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Accessoires")._id,
    theme: thematiques.find(t => t.nom === "Mode").nom,
    vues: 60,
    date: new Date("2023-10-05"),
  }, 
  {    titre: "Tablette iPad Air",
    description: "Tablette Apple iPad Air 10.9\", 64GB, Wi-Fi",
    prix: 600,
    location: "Nantes",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/ipad-air.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Informatique")._id,
    theme: thematiques.find(t => t.nom === "Multim√©dia").nom,
    vues: 280,
    date: new Date("2023-11-04"),
  }, 
  {    titre: "Chaise de bureau ergonomique",
    description: "Chaise avec support lombaire, r√©glable en hauteur",
    prix: 150,
    location: "Montpellier",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/chaise-bureau.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Meubles")._id,
    theme: thematiques.find(t => t.nom === "Maison").nom,
    vues: 45,
    date: new Date("2023-09-15"),
  },
  {    titre: "Xbox Series X",
    description: "Console de jeu derni√®re g√©n√©ration avec 1TB de stockage",
    prix: 500,
    location: "Dijon",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/xbox.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Gaming")._id,
    theme: thematiques.find(t => t.nom === "Multim√©dia").nom,
    vues: 400,
    date: new Date("2023-10-27"),
  },
  {    titre: "Drone DJI Mini 2",
    description: "Drone compact avec cam√©ra 4K, id√©al pour d√©butants",
    prix: 450,
    location: "Le Havre",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/drone.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Photo & Vid√©o")._id,
    theme: thematiques.find(t => t.nom === "Multim√©dia").nom,
    vues: 130,
    date: new Date("2023-10-12"),
  },
  {    titre: "Robe de soir√©e",
    description: "Robe √©l√©gante taille S, parfaite pour √©v√©nements",
    prix: 80,
    location: "N√Æmes",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/robe-soiree.jpg"],
    id_categorie: categories.find(cat => cat.nom === "V√™tements")._id,
    theme: thematiques.find(t => t.nom === "Mode").nom,
    vues: 55,
    date: new Date("2023-09-28"),
  },
  {    titre: "Climatiseur mobile",
    description: "Climatiseur 12000 BTU, id√©al pour pi√®ces jusqu‚Äô√† 35m¬≤",
    prix: 350,
    location: "Clermont-Ferrand",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/climatiseur.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Climatisation")._id,
    theme: thematiques.find(t => t.nom === "√âlectrom√©nager").nom,
    vues: 70,
    date: new Date("2023-10-08"),
  },
  {    titre: "Accessoires de jardinage",
    description: "Lot d‚Äôoutils de jardinage pour amateurs et professionnels",
    prix: 60,
    location: "Le Mans",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/outils-jardinage.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Jardinage")._id,
    theme: thematiques.find(t => t.nom === "Maison").nom,
    vues: 35,
    date: new Date("2023-09-18"),
  },
  {    titre: "Accessoires DJ",
    description: "Mixeur, platines et casque pour DJ professionnels",
    prix: 800,
    location: "Angers",
    state: "occasion",
    sellerType: "professionnel",
    images: ["/images/produits/accessoires-dj.jpg"],
    id_categorie: categories.find(cat => cat.nom === "appareils DJ")._id,
    theme: thematiques.find(t => t.nom === "Musique").nom,
    vues: 20,
    date: new Date("2023-08-25"),
  },
  {    titre: "Ballon de football Adidas",
    description: "Ballon officiel de la Ligue des Champions, taille 5",
    prix: 30,
    location: "Tours",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/ballon-foot.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Accessoires sport")._id,
    theme: thematiques.find(t => t.nom === "Sport").nom,
    vues: 85,
    date: new Date("2023-09-20"),
  },
  {  titre: "Coffret d‚Äôoutils manuels",
    description: "Coffret complet avec tournevis, cl√©s et marteau",
    prix: 70,
    location: "Le Havre",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/coffret-outils.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Outils manuels")._id,
    theme: thematiques.find(t => t.nom === "Outillage").nom,
    vues: 50,
    date: new Date("2023-10-14"),
  },
  {   titre: "Tesla Model 3",
    description: "Voiture √©lectrique, autonomie 400km, √©tat neuf",
    prix: 35000,
    location: "Paris",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/tesla.jpg"], // tableau d'images
    id_categorie: categories.find(cat => cat.nom === "Voitures")._id,
    theme: thematiques.find(t => t.nom === "V√©hicules").nom,
    vues: 220,
    date: new Date("2023-11-09"),
  },
  {    titre: "Maison T4 √† Marseille",
    description: "Maison 4 pi√®ces, 120m¬≤, jardin et garage",
    prix: 250000,
    location: "Marseille",
    state: "occasion",
    sellerType: "professionnel",
    images: ["/images/produits/maison.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Maisons")._id,
    theme: thematiques.find(t => t.nom === "Immobilier").nom,
    vues: 130,
    date: new Date("2023-10-22"),
  },
  {    titre: "Surface Laptop 4",
    description: "Ordinateur portable Microsoft, √©cran 13.5\", 256GB",
    prix: 1400,
    location: "Lyon",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/surface.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Informatique")._id,
    theme: thematiques.find(t => t.nom === "Multim√©dia").nom,
    vues: 160,
    date: new Date("2023-11-01"),
  }, 
  {    titre: "V√©lo VTT Specialized",
    description: "V√©lo tout-terrain, cadre en aluminium, 21 vitesses",
    prix: 750,
    location: "Toulouse",
    state: "occasion",
    sellerType: "particulier",
    images: ["/images/produits/vtt.jpg"],
    id_categorie: categories.find(cat => cat.nom === "V√©los")._id,
    theme: thematiques.find(t => t.nom === "V√©hicules").nom,
    vues: 110,
    date: new Date("2023-10-16"),
  },
  {    titre: "Casque VR Oculus Quest 2",
    description: "Casque de r√©alit√© virtuelle autonome avec contr√¥leurs",
    prix: 300,
    location: "Bordeaux",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/oculus.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Gaming")._id,
    theme: thematiques.find(t => t.nom === "Multim√©dia").nom,
    vues: 250,
    date: new Date("2023-10-30"),
  },
  {    titre: "Sac √† dos Eastpak",
    description: "Sac √† dos robuste, capacit√© 24L, id√©al pour l‚Äô√©cole ou le travail",
    prix: 60,
    location: "Lille",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/sac-dos.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Accessoires")._id,
    theme: thematiques.find(t => t.nom === "Mode").nom,
    vues: 80,
    date: new Date("2023-09-30"),
  },
  {    titre: "Objectif Canon 50mm f/1.8",
    description: "Objectif √† focale fixe, id√©al pour portraits et faible luminosit√©",
    prix: 120,
    location: "Strasbourg",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/objectif-canon.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Photo & Vid√©o")._id,
    theme: thematiques.find(t => t.nom === "Multim√©dia").nom,
    vues: 140,
    date: new Date("2023-10-11"),
  },
  {    titre: "Short de sport Adidas",
    description: "Short l√©ger et respirant, taille M",
    prix: 25,
    location: "Rennes",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/short-sport.jpg"],
    id_categorie: categories.find(cat => cat.nom === "V√™tements de sport")._id,
    theme: thematiques.find(t => t.nom === "Sport").nom,
    vues: 70,
    date: new Date("2023-09-12"),
  },
  {    titre: "Scie circulaire Makita",
    description: "Scie puissante avec lame de 165mm, id√©ale pour le bois",
    prix: 180,
    location: "Nantes",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/scie-circulaire.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Outils √©lectriques")._id,
    theme: thematiques.find(t => t.nom === "Outillage").nom,
    vues: 40,
    date: new Date("2023-10-05"),
  },
  {    titre: "Aquarium 100L",
    description: "Aquarium complet avec filtre, √©clairage et d√©corations",
    prix: 150,
    location: "N√Æmes",
    state: "occasion",
    sellerType: "particulier",
    images: ["/images/produits/aquarium.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Accessoires animaux")._id,
    theme: thematiques.find(t => t.nom === "Animaux").nom,
    vues: 30,
    date: new Date("2023-08-28"),
  },
  {    titre: "Moissonneuse-batteuse Claas",
    description: "Moissonneuse-batteuse performante pour grandes exploitations",
    prix: 75000,
    location: "Clermont-Ferrand",
    state: "occasion",
    sellerType: "professionnel",
    images: ["/images/produits/moissonneuse.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Mat√©riel agricole")._id,
    theme: thematiques.find(t => t.nom === "Agriculture").nom,
    vues: 10,
    date: new Date("2023-07-20"),
  },
  {    titre: "Gants de travail",
    description: "Gants r√©sistants pour travaux lourds, taille L",
    prix: 15,
    location: "Le Mans",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/gants-travail.jpg"],
    id_categorie: categories.find(cat => cat.nom === "V√™tements de travail")._id,
    theme: thematiques.find(t => t.nom === "Industrie").nom,
    vues: 20,
    date: new Date("2023-09-10"),
  },
  {    titre: "D√©tecteur de fum√©e",
    description: "D√©tecteur de fum√©e certifi√© NF, pile longue dur√©e",
    prix: 25,
    location: "Angers",
    state: "neuf",
    sellerType: "particulier",
    images: ["/images/produits/detecteur-fumee.jpg"],
    id_categorie: categories.find(cat => cat.nom === "S√©curit√©")._id,
    theme: thematiques.find(t => t.nom === "S√©curit√©").nom,
    vues: 15,
    date: new Date("2023-10-01"),
  },
  {    titre: "Piano num√©rique Yamaha",
    description: "Piano 88 touches avec p√©dales, id√©al pour d√©butants et pros",
    prix: 600,
    location: "Tours",
    state: "occasion",
    sellerType: "particulier",
    images: ["/images/produits/piano.jpg"],
    id_categorie: categories.find(cat => cat.nom === "Instruments de musique")._id,
    theme: thematiques.find(t => t.nom === "Musique").nom,
    vues: 90,
    date: new Date("2023-09-08"),
  },
  {    titre: "Tapis de course",
    description: "Tapis de course pliable avec plusieurs programmes d‚Äôentra√Ænement",
    prix: 400,
    location: "Le Havre",
    state: "neuf",
    sellerType: "professionnel",
    images: ["/images/produits/tapis-course.jpg"],
    id_categorie: categories.find(cat => cat.nom === "√âquipement sportif")._id,
    theme: thematiques.find(t => t.nom === "Sport").nom,
    vues: 60,
    date: new Date("2023-10-20"),
  },
]);

    console.log("‚úÖ Produits ins√©r√©s");

   // Ins√©rer publicit√©s
await Publicite.insertMany([
  {
    titre: " Promo √ât√©",
    information: "Profitez de l'√©t√© pour √©quiper votre maison ! Jusqu'√† -50% sur une s√©lection d'appareils √©lectrom√©nagers : r√©frig√©rateurs, lave-linge, aspirateurs et plus encore. Offres limit√©es, ne manquez pas cette vague de r√©ductions !",
    image: "/images/publicites/pub1.jpg"
  },
  {
    titre: " Nouveaut√©s Auto",
    information: "Explorez l‚Äôavenir de la mobilit√© ! D√©couvrez les derniers mod√®les hybrides et 100% √©lectriques, alliant performance, design et √©conomies d‚Äô√©nergie. Essais gratuits et offres de lancement disponibles chez nos partenaires.",
    image: "/images/publicites/pub2.jpg"
  },
  {
    titre: " Offres Immo",
    information: "Envie de changer de vie ? Trouvez votre futur chez-vous parmi nos appartements et maisons √† prix r√©duits partout en France. Opportunit√©s exclusives, frais de notaire offerts sur certaines ventes !",
    image: "/images/publicites/pub3.jpg"
  },
  {
    titre: " Tech Deals",
    information: "Cette semaine seulement : smartphones derni√®re g√©n√©ration, PC ultra-performants et gadgets connect√©s √† prix cass√©s ! Stock limit√©, livraison express et garantie incluse. Faites le plein de technologie !",
    image: "/images/publicites/pub4.jpg"
  },
  {
    titre: " Mobilier Design",
    information: "Transformez votre int√©rieur avec notre s√©lection de meubles modernes et √©l√©gants. Promotions exceptionnelles et livraison gratuite partout en France. Canap√©s, tables, rangements : style et confort √† petit prix !",
    image: "/images/publicites/pub5.jpg"
  },
  {
    titre: " Mode & Accessoires",
    information: "Soyez tendance avec nos nouvelles collections printemps-√©t√© ! Robes l√©g√®res, sacs styl√©s, lunettes de soleil et bien plus. Offres exclusives en ligne et en boutique. L‚Äô√©l√©gance n‚Äôattend pas !",
    image: "/images/publicites/pub6.jpg"
  },
  {
    titre: " Sport & Loisirs",
    information: "Bougez sans vous ruiner ! √âquipements sportifs, accessoires de fitness, v√©los et jeux de plein air √† prix mini. Id√©al pour se remettre en forme ou s‚Äôamuser en famille. Promotions valables jusqu‚Äô√† √©puisement des stocks.",
    image: "/images/publicites/pub7.jpg"
  },
  {
    titre: " Voyages",
    information: "Envie d‚Äô√©vasion ? R√©servez vos s√©jours et billets d‚Äôavion √† prix r√©duit vers les plus belles destinations. Plages paradisiaques, escapades urbaines ou nature sauvage : partez sans vous ruiner !",
    image: "/images/publicites/pub8.jpg"
  },
]);
  console.log("‚úÖ Publicit√©s ins√©r√©es");

    // Ins√©rer utilisateurs
     const users = [
     {
       name: "Admin",
       firstname: "Admin",
       phonenumber: "0600000001",
       email: "admin@Kanope.com",
       password: await hashPassword("admin123"), 
       role: "admin",
      adresse: {
         rue: "10 Rue de Rivoli",
         ville: "Paris",
         codePostal: "75001",
         pays: "France",
       },
     },
     {
       name: "Moderator",
       firstname: "Moderator",
       phonenumber: "0600000002",
       email: "modo@kanope.com",
       password: await hashPassword("modo123"),
       role: "moderator",
         adresse: {
         rue: "15 Avenue Foch",
         ville: "Lyon",
         codePostal: "69000",
         pays: "France",
       },
     },
     {
       name: "Martin",
       firstname: "Lucas",
       phonenumber: "0600000003",
       email: "user@kanope.com",
       password: await hashPassword("user123"),
       role: "user",
       adresse: {
         rue: "20 Rue de la R√©publique",
         ville: "Marseille",
         codePostal: "13000",
         pays: "France",
       },
     },
  ];

  await User.insertMany(users);

  console.log("‚úÖ Utilisateurs ins√©r√©s avec succ√®s !");

    console.log("üéâ Base de donn√©es initialis√©e avec succ√®s !");
    process.exit();
  } catch (err) {
    console.error("‚ùå Erreur seed :", err);
    process.exit(1);
  }
};

seedDatabase();
